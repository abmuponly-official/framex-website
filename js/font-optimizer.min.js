!function(){"use strict";const t={fonts:[{family:"Inter",weights:["300","400","500","600","700"],styles:["normal"],display:"swap",preload:["400","600","700"],subset:"latin-ext"}],strategy:"preload",timeout:3e3,sessionStorageKey:"framex-fonts-loaded",cssClass:"fonts-loaded"},e=()=>{try{return"true"===sessionStorage.getItem(t.sessionStorageKey)}catch(t){return!1}},n=()=>{document.documentElement.classList.add(t.cssClass);try{sessionStorage.setItem(t.sessionStorageKey,"true")}catch(t){}},o=()=>{t.fonts.forEach(t=>{if(t.preload&&t.preload.length>0){const e=(t=>{const e=[],n=`family=${t.family}:wght@${t.weights.join(";")}`;return e.push(n),`https://fonts.googleapis.com/css2?${[e.join("&"),`display=${t.display}`,t.subset?`subset=${t.subset}`:""].filter(Boolean).join("&")}`})({...t,weights:t.preload}),o=document.createElement("link");o.rel="preload",o.as="style",o.href=e,o.onload=function(){this.rel="stylesheet",n()},document.head.appendChild(o);const s=document.createElement("link");s.rel="preconnect",s.href="https://fonts.gstatic.com",s.crossOrigin="anonymous",document.head.appendChild(s)}})},s=async()=>{if(!("fonts"in document))return!1;try{const e=[];return t.fonts.forEach(t=>{t.weights.forEach(n=>{t.styles.forEach(o=>{const s=new FontFace(t.family,"url(https://fonts.gstatic.com/s/inter/v12/UcC73FwL.woff2) format('woff2')",{weight:n,style:o,display:t.display});document.fonts.add(s),e.push(s.load())})})}),await Promise.all(e),n(),!0}catch(t){return console.error("Font loading failed:",t),!1}},a=()=>{const t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target,o=window.getComputedStyle(n).fontWeight;document.fonts.check(`${o} 1em Inter`)||i("Inter",o),t.unobserve(n)}})},{rootMargin:"50px"});document.querySelectorAll('[class*="font-"], h1, h2, h3, h4, h5, h6, .bold, .light').forEach(e=>t.observe(e))},i=async(t,e)=>{if("fonts"in document)try{const n=new FontFace(t,"url(https://fonts.gstatic.com/s/inter/v12/UcC73FwL.woff2) format('woff2')",{weight:e,style:"normal",display:"swap"});document.fonts.add(n),await n.load()}catch(n){console.error(`Failed to load font ${t} ${e}:`,n)}},l=()=>{if((()=>{const t=document.createElement("link");t.rel="dns-prefetch",t.href="https://fonts.googleapis.com",document.head.appendChild(t);const e=document.createElement("link");e.rel="preconnect",e.href="https://fonts.googleapis.com",document.head.appendChild(e);const n=document.createElement("link");n.rel="preconnect",n.href="https://fonts.gstatic.com",n.crossOrigin="anonymous",document.head.appendChild(n)})(),(()=>{const t=document.createElement("style");t.textContent="\n      /* Font optimization CSS */\n      html {\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        text-rendering: optimizeLegibility;\n        font-feature-settings: \"kern\" 1, \"liga\" 1;\n      }\n      \n      /* Prevent FOUT (Flash of Unstyled Text) */\n      body {\n        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        font-display: swap;\n      }\n      \n      /* Font loading states */\n      html:not(.fonts-loaded) body {\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      }\n      \n      /* Optimize font weights */\n      .font-light { font-weight: 300; }\n      .font-normal { font-weight: 400; }\n      .font-medium { font-weight: 500; }\n      .font-semibold { font-weight: 600; }\n      .font-bold { font-weight: 700; }\n      \n      /* Prevent layout shift from font loading */\n      h1, h2, h3, h4, h5, h6 {\n        font-synthesis: none;\n        line-height: 1.2;\n      }\n      \n      /* Subset font for better performance */\n      @font-face {\n        font-family: 'Inter Subset';\n        src: local('Inter'), local('Inter-Regular');\n        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n      }\n    ",document.head.appendChild(t)})(),e())n();else{switch(t.strategy){case"preload":o();break;case"lazy":a();break;default:"fonts"in document?s():o()}setTimeout(()=>{document.documentElement.classList.contains(t.cssClass)||(console.warn("Font loading timeout - using fallback fonts"),n())},t.timeout)}};window.FontOptimizer={init:l,load:s,preload:o,lazyLoad:a,isLoaded:e},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l(),window.addEventListener("load",()=>{e()||l()})}();